<!DOCTYPE html><html lang="en" dir="ltr" data-has-toc data-has-sidebar class="astro-bguv2lll"> <head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Any and interfaces | The C3 Handbook</title><link rel="canonical" href="https://experimental-site-testing-only.github.io/generic-programming/anyinterfaces/"/><link rel="sitemap" href="/sitemap-index.xml"/><link rel="shortcut icon" href="/ico.svg" type="image/svg+xml"/><meta name="generator" content="Astro v4.0.7"/><meta name="generator" content="Starlight v0.15.2"/><meta property="og:title" content="Any and interfaces"/><meta property="og:type" content="article"/><meta property="og:url" content="https://experimental-site-testing-only.github.io/generic-programming/anyinterfaces/"/><meta property="og:locale" content="en"/><meta property="og:description" content="Any and interfaces"/><meta property="og:site_name" content="The C3 Handbook"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Any and interfaces"/><meta name="twitter:description" content="Any and interfaces"/><meta name="description" content="Any and interfaces"/><script>
	window.StarlightThemeProvider = (() => {
		const storedTheme =
			typeof localStorage !== 'undefined' && localStorage.getItem('starlight-theme');
		const theme =
			storedTheme ||
			(window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark');
		document.documentElement.dataset.theme = theme === 'light' ? 'light' : 'dark';
		return {
			updatePickers(theme = storedTheme || 'auto') {
				document.querySelectorAll('starlight-theme-select').forEach((picker) => {
					const select = picker.querySelector('select');
					if (select) select.value = theme;
					/** @type {HTMLTemplateElement | null} */
					const tmpl = document.querySelector(`#theme-icons`);
					const newIcon = tmpl && tmpl.content.querySelector('.' + theme);
					if (newIcon) {
						const oldIcon = picker.querySelector('svg.label-icon');
						if (oldIcon) {
							oldIcon.replaceChildren(...newIcon.cloneNode(true).childNodes);
						}
					}
				});
			},
		};
	})();
</script><template id="theme-icons"><svg aria-hidden="true" class="light astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M5 12a1 1 0 0 0-1-1H3a1 1 0 0 0 0 2h1a1 1 0 0 0 1-1Zm.64 5-.71.71a1 1 0 0 0 0 1.41 1 1 0 0 0 1.41 0l.71-.71A1 1 0 0 0 5.64 17ZM12 5a1 1 0 0 0 1-1V3a1 1 0 0 0-2 0v1a1 1 0 0 0 1 1Zm5.66 2.34a1 1 0 0 0 .7-.29l.71-.71a1 1 0 1 0-1.41-1.41l-.66.71a1 1 0 0 0 0 1.41 1 1 0 0 0 .66.29Zm-12-.29a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.71-.71a1.004 1.004 0 1 0-1.43 1.41l.73.71ZM21 11h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2Zm-2.64 6A1 1 0 0 0 17 18.36l.71.71a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.76-.66ZM12 6.5a5.5 5.5 0 1 0 5.5 5.5A5.51 5.51 0 0 0 12 6.5Zm0 9a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7Zm0 3.5a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1a1 1 0 0 0-1-1Z"/></svg> <svg aria-hidden="true" class="dark astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.64 13a1 1 0 0 0-1.05-.14 8.049 8.049 0 0 1-3.37.73 8.15 8.15 0 0 1-8.14-8.1 8.59 8.59 0 0 1 .25-2A1 1 0 0 0 8 2.36a10.14 10.14 0 1 0 14 11.69 1 1 0 0 0-.36-1.05Zm-9.5 6.69A8.14 8.14 0 0 1 7.08 5.22v.27a10.15 10.15 0 0 0 10.14 10.14 9.784 9.784 0 0 0 2.1-.22 8.11 8.11 0 0 1-7.18 4.32v-.04Z"/></svg> <svg aria-hidden="true" class="auto astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg> </template><link rel="stylesheet" href="/_astro/index.oWxOCcey.css" /><script type="module" src="/_astro/hoisted.dSDs6aBR.js"></script>
<script type="module" src="/_astro/page.36aCzv65.js"></script></head> <body class="astro-bguv2lll"> <a href="#_top" class="astro-7q3lir66">Skip to content</a>  <div class="page sl-flex astro-vrdttmbt"> <header class="header astro-vrdttmbt"><div class="header sl-flex astro-kmkmnagf"> <div class="sl-flex astro-kmkmnagf"> <a href="/" class="site-title sl-flex astro-m46x6ez3">  <span class="astro-m46x6ez3"> The C3 Handbook </span> </a>  </div> <div class="sl-flex astro-kmkmnagf"> <site-search data-translations="{&#34;placeholder&#34;:&#34;Search&#34;}" class="astro-v37mnknz"> <button data-open-modal disabled class="astro-v37mnknz">  <svg aria-label="Search" class="astro-v37mnknz astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.71 20.29 18 16.61A9 9 0 1 0 16.61 18l3.68 3.68a.999.999 0 0 0 1.42 0 1 1 0 0 0 0-1.39ZM11 18a7 7 0 1 1 0-14 7 7 0 0 1 0 14Z"/></svg>  <span class="sl-hidden md:sl-block astro-v37mnknz" aria-hidden="true">Search</span> <svg aria-label="(Press / to Search)" class="sl-hidden md:sl-block astro-v37mnknz astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 2H7a5 5 0 0 0-5 5v10a5 5 0 0 0 5 5h10a5 5 0 0 0 5-5V7a5 5 0 0 0-5-5Zm3 15a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3V7a3 3 0 0 1 3-3h10a3 3 0 0 1 3 3v10Z"/><path d="M15.293 6.707a1 1 0 1 1 1.414 1.414l-8.485 8.486a1 1 0 0 1-1.414-1.415l8.485-8.485Z"/></svg>  </button> <dialog style="padding:0" aria-label="Search" class="astro-v37mnknz"> <div class="dialog-frame sl-flex astro-v37mnknz">  <button data-close-modal class="sl-flex md:sl-hidden astro-v37mnknz"> Cancel </button> <div class="search-container astro-v37mnknz"> <div id="starlight__search" class="astro-v37mnknz"></div> </div> </div> </dialog> </site-search>    </div> <div class="sl-hidden md:sl-flex right-group astro-kmkmnagf"> <div class="sl-flex social-icons astro-kmkmnagf">  </div> <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-4yphtoen"> <span class="sr-only astro-4yphtoen">Select theme</span> <svg aria-hidden="true" class="icon label-icon astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg>  <select value="auto" class="astro-4yphtoen"> <option value="dark" class="astro-4yphtoen">Dark</option><option value="light" class="astro-4yphtoen">Light</option><option value="auto" selected="true" class="astro-4yphtoen">Auto</option> </select> <svg aria-hidden="true" class="icon caret astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script>   </div> </div> </header> <nav class="sidebar astro-vrdttmbt" aria-label="Main"> <starlight-menu-button class="astro-jif73yzw"> <button aria-expanded="false" aria-label="Menu" aria-controls="starlight__sidebar" class="sl-flex md:sl-hidden astro-jif73yzw"> <svg aria-hidden="true" class="astro-jif73yzw astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M3 8h18a1 1 0 1 0 0-2H3a1 1 0 0 0 0 2Zm18 8H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Zm0-5H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Z"/></svg>  </button> </starlight-menu-button>    <div id="starlight__sidebar" class="sidebar-pane astro-vrdttmbt"> <div class="sidebar-content sl-flex astro-vrdttmbt"> <ul class="top-level astro-3ii7xxms"> <li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <div class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Introduction</span>  </div> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/introduction/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">The C3 Guide</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/introduction/design-goals/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Design Goals and Origins</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/introduction/roadmap/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Roadmap For c3</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <div class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Get Involved</span>  </div> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/get-involved/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Community &amp; Contribute</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <div class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Install C3</span>  </div> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/install-c3/prebuilt-binaries/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Install C3 Compiler Binary</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/install-c3/compile/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Build C3 From Source</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <div class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Getting Started</span>  </div> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/getting-started/my-first-hello-world/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">My first Hello World</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/getting-started/my-first-project/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">My first C3 Project</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/getting-started/basic-types-and-values/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Basic types and values</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <div class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Language Fundamentals</span>  </div> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/language-fundamentals/comments/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Comments &amp; Documentation</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/language-fundamentals/naming/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Naming Rules</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/language-fundamentals/variables/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Variables</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/language-fundamentals/expressions/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Expressions</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/language-fundamentals/statements/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Statements</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/language-fundamentals/precedence/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Precedence</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/language-fundamentals/functions/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Functions</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/language-fundamentals/modules/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Modules</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/language-fundamentals/conversion/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Conversions and Promotions</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/language-fundamentals/undefined-behaviour/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Undefined Behaviour</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <div class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Language Common</span>  </div> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/language-common/arrays/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Arrays</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/language-common/define/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Define</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/language-common/vectors/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Vectors</span>  </a> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <div class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Optionals</span>  </div> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/language-common/optionals/essential/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Essential Error Handling</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/language-common/optionals/advanced/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Advanced Error Handling</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <a href="/language-common/defer/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Defer and Cleanup</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/language-common/contracts/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Contracts</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/language-common/attributes/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Attributes</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/language-common/cinterop/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">C Interoperability</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <div class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Generic Programming</span>  </div> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/generic-programming/anyinterfaces/" aria-current="page" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Any and interfaces</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/generic-programming/operator-overloading/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Operator Overloading</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/generic-programming/generics/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Generics</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/generic-programming/macros/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Macros</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/generic-programming/compiletime/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Compile Time Evaluation</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/generic-programming/reflection/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Reflection</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <div class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Standard Library</span>  </div> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/standard-library/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Standard Library</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/standard-library/stdlib_refcard/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Standard Library Function Signatures</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <div class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Build Your Project</span>  </div> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/build-your-project/build-commands/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Project Build Commands</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/build-your-project/project-config/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Project Configuration</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <div class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Misc Advanced</span>  </div> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/misc-advanced/builtins/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Builtins</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/misc-advanced/library-packaging/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Library Packaging</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/misc-advanced/asm/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Inline Assembly</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <div class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">FAQ</span>  </div> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/faq/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Frequently Asked Questions</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/faq/compare-languages/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Comparisons with other languages</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/faq/changesfromc/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Changes from C</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/faq/rejected-ideas/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Rejected ideas</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <div class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Language Overview</span>  </div> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/language-overview/examples/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Examples</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/language-overview/allfeatures/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">All features</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/language-overview/primer/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">A quick primer on C3</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/language-overview/sample/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">More Code Examples</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/language-overview/types/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Types</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <summary class="astro-3ii7xxms"> <div class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Implementation Details</span>  </div> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/implementation-details/change-logs/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Change logs</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/implementation-details/grammar/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Grammar</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/implementation-details/specification/" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">C3 Specification</span>  </a> </li> </ul>  </details> </li> </ul>  <div class="md:sl-hidden"> <div class="mobile-preferences sl-flex astro-wu23bvmt"> <div class="sl-flex social-icons astro-wu23bvmt">  </div> <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-4yphtoen"> <span class="sr-only astro-4yphtoen">Select theme</span> <svg aria-hidden="true" class="icon label-icon astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg>  <select value="auto" class="astro-4yphtoen"> <option value="dark" class="astro-4yphtoen">Dark</option><option value="light" class="astro-4yphtoen">Light</option><option value="auto" selected="true" class="astro-4yphtoen">Auto</option> </select> <svg aria-hidden="true" class="icon caret astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script>   </div>  </div> </div> </div> </nav> <div class="main-frame astro-vrdttmbt">  <div class="lg:sl-flex astro-67yu43on"> <aside class="right-sidebar-container astro-67yu43on"> <div class="right-sidebar astro-67yu43on"> <div class="lg:sl-hidden astro-pb3aqygn"><mobile-starlight-toc data-min-h="2" data-max-h="3" class="astro-doynk5tl"><nav aria-labelledby="starlight__on-this-page--mobile" class="astro-doynk5tl"><details id="starlight__mobile-toc" class="astro-doynk5tl"><summary id="starlight__on-this-page--mobile" class="sl-flex astro-doynk5tl"><div class="toggle sl-flex astro-doynk5tl">On this page<svg aria-hidden="true" class="caret astro-doynk5tl astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </div><span class="display-current astro-doynk5tl"></span></summary><div class="dropdown astro-doynk5tl"><ul class="isMobile astro-g2bywc46" style="--depth: 0;"> <li class="astro-g2bywc46" style="--depth: 0;"> <a href="#_top" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Overview</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#working-with-the-type-of-any-at-runtime" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Working with the type of any at runtime.</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#variable-argument-functions-with-implicit-any" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Variable argument functions with implicit any</span> </a> <ul class="isMobile astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#explicit-any-vararg-functions" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Explicit any vararg functions</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#implicit-any-vararg-functions" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Implicit any vararg functions</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#interfaces" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Interfaces</span> </a> <ul class="isMobile astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#defining-an-interface" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Defining an interface</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#implementing-the-interface" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Implementing the interface</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#dynamic-methods" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">“@dynamic” methods</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#referring-to-an-interface-by-pointer" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Referring to an interface by pointer</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#calling-dynamic-methods" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Calling dynamic methods</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#reflection-invocation" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Reflection invocation</span> </a>  </li> </ul>  </li> </ul> </div></details></nav></mobile-starlight-toc></div><div class="right-sidebar-panel sl-hidden lg:sl-block astro-pb3aqygn"><div class="sl-container astro-pb3aqygn"><starlight-toc data-min-h="2" data-max-h="3"><nav aria-labelledby="starlight__on-this-page"><h2 id="starlight__on-this-page">On this page</h2><ul class="astro-g2bywc46" style="--depth: 0;"> <li class="astro-g2bywc46" style="--depth: 0;"> <a href="#_top" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Overview</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#working-with-the-type-of-any-at-runtime" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Working with the type of any at runtime.</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#variable-argument-functions-with-implicit-any" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Variable argument functions with implicit any</span> </a> <ul class="astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#explicit-any-vararg-functions" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Explicit any vararg functions</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#implicit-any-vararg-functions" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Implicit any vararg functions</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#interfaces" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Interfaces</span> </a> <ul class="astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#defining-an-interface" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Defining an interface</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#implementing-the-interface" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Implementing the interface</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#dynamic-methods" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">“@dynamic” methods</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#referring-to-an-interface-by-pointer" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Referring to an interface by pointer</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#calling-dynamic-methods" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Calling dynamic methods</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 1;"> <a href="#reflection-invocation" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Reflection invocation</span> </a>  </li> </ul>  </li> </ul> </nav></starlight-toc></div></div> </div> </aside> <div class="main-pane astro-67yu43on">  <main data-pagefind-body lang="en" dir="ltr" class="astro-bguv2lll">    <div class="content-panel astro-7nkwcw3z"> <div class="sl-container astro-7nkwcw3z"> <h1 id="_top" class="astro-j6tvhyss">Any and interfaces</h1>  </div> </div>  <div class="content-panel astro-7nkwcw3z"> <div class="sl-container astro-7nkwcw3z"> <div class="sl-markdown-content"> <h2 id="working-with-the-type-of-any-at-runtime">Working with the type of <code dir="auto">any</code> at runtime.</h2>
<p>The <code dir="auto">any</code> type is recommended for writing code that is polymorphic at runtime where macros are not appropriate.
It can be thought of as a typed <code dir="auto">void*</code>.</p>
<p>An <code dir="auto">any</code> can be created by assigning any pointer to it. You can then query the <code dir="auto">any</code> type for the typeid of
the enclosed type (the type the pointer points to) using the <code dir="auto">type</code> field.</p>
<p>This allows switching over the typeid, either using a normal switch:</p>
<div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.664at.css"><script type="module" src="/_astro/ec.sgewm.js"></script><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#C792EA;--1:#8844AE">switch</span><span style="--0:#D6DEEB;--1:#403F53"> (</span><span style="--0:#C5E478;--1:#3B61B0">my_any</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#7FDBCA;--1:#096E72">type</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">{</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C792EA;--1:#8844AE">case</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">Foo</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#7FDBCA;--1:#096E72">typeid</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        ...</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C792EA;--1:#8844AE">case</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">Bar</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#7FDBCA;--1:#096E72">typeid</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        ...</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="switch (my_any.type){    case Foo.typeid:        ...    case Bar.typeid:        ...}"><div></div></button></div></figure></div>
<p>Or the special <code dir="auto">any</code>-version of the switch:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#C792EA;--1:#8844AE">switch</span><span style="--0:#D6DEEB;--1:#403F53"> (my_any)</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">{</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C792EA;--1:#8844AE">case</span><span style="--0:#D6DEEB;--1:#403F53"> Foo:</span></div><div class="ec-line"><span style="--0:#919F9F;--1:#5D6376">        // my_any can be used as if it was Foo* here</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C792EA;--1:#8844AE">case</span><span style="--0:#D6DEEB;--1:#403F53"> Bar:</span></div><div class="ec-line"><span style="--0:#919F9F;--1:#5D6376">        // my_any can be used as if it was Bar* here</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="switch (my_any){    case Foo:        // my_any can be used as if it was Foo* here    case Bar:        // my_any can be used as if it was Bar* here}"><div></div></button></div></figure></div>
<p>Sometimes one needs to manually construct an any-pointer, which
is typically done using the <code dir="auto">any_make</code> function: <code dir="auto">any_make(ptr, type)</code>
will create an <code dir="auto">any</code> pointing to <code dir="auto">ptr</code> and with typeid <code dir="auto">type</code>.</p>
<p>Since the runtime <code dir="auto">typeid</code> is available, we can query for any runtime <code dir="auto">typeid</code> property available
at runtime, for example the size, e.g. <code dir="auto">my_any.type.sizeof</code>. This allows us to do a lot of work
on with the enclosed data without knowing the details of its type.</p>
<p>For example, this would make a copy of the data and place it in the variable <code dir="auto">any_copy</code>:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#C792EA;--1:#8844AE">void*</span><span style="--0:#D6DEEB;--1:#403F53"> data </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">malloc</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C5E478;--1:#3B61B0">a</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#FAF39F;--1:#111111">type</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#7FDBCA;--1:#096E72">sizeof</span><span style="--0:#D6DEEB;--1:#403F53">);</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">mem::</span><span style="--0:#82AAFF;--1:#3B61B0">copy</span><span style="--0:#D6DEEB;--1:#403F53">(data, </span><span style="--0:#C5E478;--1:#3B61B0">a</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#7FDBCA;--1:#096E72">ptr</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#C5E478;--1:#3B61B0">a</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#FAF39F;--1:#111111">type</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#7FDBCA;--1:#096E72">sizeof</span><span style="--0:#D6DEEB;--1:#403F53">);</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">any any_copy </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">any_make</span><span style="--0:#D6DEEB;--1:#403F53">(data, </span><span style="--0:#C5E478;--1:#3B61B0">a</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#7FDBCA;--1:#096E72">type</span><span style="--0:#D6DEEB;--1:#403F53">);</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="void* data = malloc(a.type.sizeof);mem::copy(data, a.ptr, a.type.sizeof);any any_copy = any_make(data, a.type);"><div></div></button></div></figure></div>
<h2 id="variable-argument-functions-with-implicit-any">Variable argument functions with implicit <code dir="auto">any</code></h2>
<p>Regular typed varargs are of a single type, e.g. <code dir="auto">fn void abc(int x, double... args)</code>.
In order to take variable functions that are of multiple types, <code dir="auto">any</code> may be used.
There are two variants:</p>
<h3 id="explicit-any-vararg-functions">Explicit <code dir="auto">any</code> vararg functions</h3>
<p>This type of function has a format like <code dir="auto">fn void vaargfn(int x, any... args)</code>. Because only
pointers may be passed to an <code dir="auto">any</code>, the arguments must explicitly be pointers (e.g. <code dir="auto">vaargfn(2, &#x26;b, &#x26;&#x26;3.0)</code>).</p>
<p>While explicit, this may be somewhat less user-friendly than implicit vararg functions:</p>
<h3 id="implicit-any-vararg-functions">Implicit <code dir="auto">any</code> vararg functions</h3>
<p>The implicit <code dir="auto">any</code> vararg function has instead a format like <code dir="auto">fn void vaanyfn(int x, args...)</code>.
Calling this function will implicitly cause taking the pointer of the values (so for
example in the call <code dir="auto">vaanyfn(2, b, 3.0)</code>, what is actually passed are <code dir="auto">&#x26;b</code> and <code dir="auto">&#x26;&#x26;3.0</code>).</p>
<p>Because this passes values implicitly by reference, care must be taken <em>not</em> to mutate any
values passed in this manner. Doing so would very likely break user expectations.</p>
<h2 id="interfaces">Interfaces</h2>
<p>Most statically typed object-oriented languages implements extensibility using vtables. In C, and by extension
C3, this is possible to emulate by passing around structs containing list of function pointers in addition to the data.</p>
<p>While this is efficient and often the best solution, but it puts certain assumptions on the code and makes interfaces
more challenging to evolve over time.</p>
<p>As an alternative there are languages (such as Objective-C) which instead use message passing to dynamically typed
objects, where the availability of a certain functionality may be queried at runtime.</p>
<p>C3 provides this latter functionality over the <code dir="auto">any</code> type using <em>interfaces</em>.</p>
<h3 id="defining-an-interface">Defining an interface</h3>
<p>The first step is to define an interface:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">interface MyName</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">{</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    fn String </span><span style="--0:#82AAFF;--1:#3B61B0">myname</span><span style="--0:#D6DEEB;--1:#403F53">();</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="interface MyName{    fn String myname();}"><div></div></button></div></figure></div>
<p>While <code dir="auto">myname</code> will behave as a method, we declare it without type. Note here that unlike normal methods we leave
out the first “self”, argument.</p>
<h3 id="implementing-the-interface">Implementing the interface</h3>
<p>To declare that a type implements an interface, add it after the type name:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#C792EA;--1:#8844AE">struct</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">Baz</span><span style="--0:#D6DEEB;--1:#403F53"> (MyName)</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">{</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C792EA;--1:#8844AE">int</span><span style="--0:#D6DEEB;--1:#403F53"> x;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">}</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#919F9F;--1:#5D6376">// Note how the first argument differs from the interface.</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">fn String </span><span style="--0:#C5E478;--1:#3B61B0">Baz</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3B61B0">myname</span><span style="--0:#D6DEEB;--1:#403F53">(Baz</span><span style="--0:#C792EA;--1:#8844AE">*</span><span style="--0:#D6DEEB;--1:#403F53"> self) @dynamic</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">{</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C792EA;--1:#8844AE">return</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">I am Baz!</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="struct Baz (MyName){    int x;}// Note how the first argument differs from the interface.fn String Baz.myname(Baz* self) @dynamic{    return &#x22;I am Baz!&#x22;;}"><div></div></button></div></figure></div>
<p>If a type declares an interface but does not implement its methods, then that is compile time error.
A type may implement multiple interfaces, by placing them all inside of <code dir="auto">()</code> e.g. <code dir="auto">struct Foo (VeryOptional, MyName) { ... }</code></p>
<p>A limitation is that only user-defined types may declare they are implementing interfaces. To make existing types
implement interfaces is possible but does not provide compile time checks.</p>
<p>One of the interfaces available in the standard library is Printable, which contains <code dir="auto">to_format</code> and <code dir="auto">to_new_string</code>.
If we implemented it for our struct above it might look like this:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">fn String </span><span style="--0:#C5E478;--1:#3B61B0">Baz</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3B61B0">to_new_string</span><span style="--0:#D6DEEB;--1:#403F53">(Baz baz, Allocator allocator) @dynamic</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">{</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C792EA;--1:#8844AE">return</span><span style="--0:#D6DEEB;--1:#403F53"> string::</span><span style="--0:#82AAFF;--1:#3B61B0">printf</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">Baz(</span><span style="--0:#82AAFF;--1:#3B61B0">%d</span><span style="--0:#ECC48D;--1:#984E4D">)</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#C5E478;--1:#3B61B0">baz</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#7FDBCA;--1:#096E72">x</span><span style="--0:#D6DEEB;--1:#403F53">, allocator: allocator);</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="fn String Baz.to_new_string(Baz baz, Allocator allocator) @dynamic{    return string::printf(&#x22;Baz(%d)&#x22;, baz.x, allocator: allocator);}"><div></div></button></div></figure></div>
<h3 id="dynamic-methods">“@dynamic” methods</h3>
<p>A method must be declared <code dir="auto">@dynamic</code> to implement an interface, but a method may also be declared <code dir="auto">@dynamic</code> <em>without</em>
the type declaring it implements a particular interface. For example, this allows us to write:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#919F9F;--1:#5D6376">// This will make "int" satisfy the MyName interface</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">fn String </span><span style="--0:#C792EA;--1:#8844AE">int</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3B61B0">myname</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C792EA;--1:#8844AE">int*</span><span style="--0:#D6DEEB;--1:#403F53">) @dynamic</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">{</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C792EA;--1:#8844AE">return</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">I am int!</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="// This will make &#x22;int&#x22; satisfy the MyName interfacefn String int.myname(int*) @dynamic{    return &#x22;I am int!&#x22;;}"><div></div></button></div></figure></div>
<p><code dir="auto">@dynamic</code> methods have their reference retained in the runtime code and can also be searched for at runtime and invoked
from the <code dir="auto">any</code> type.</p>
<h3 id="referring-to-an-interface-by-pointer">Referring to an interface by pointer</h3>
<p>An interface e.g. <code dir="auto">MyName</code> is can be cast back and forth to <code dir="auto">any</code>, but only types which
implement the interface completely may implicitly be cast to the interface.</p>
<p>So for example:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">Bob b </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> { </span><span style="--0:#F78C6C;--1:#AA0982">1</span><span style="--0:#D6DEEB;--1:#403F53"> };</span></div><div class="ec-line"><span style="--0:#C792EA;--1:#8844AE">double</span><span style="--0:#D6DEEB;--1:#403F53"> d </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">0.5</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#C792EA;--1:#8844AE">int</span><span style="--0:#D6DEEB;--1:#403F53"> i </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">3</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">MyName a </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">&#x26;</span><span style="--0:#D6DEEB;--1:#403F53">b;</span><span style="--0:#919F9F;--1:#5D6376">          // Valid, Bob implements MyName.</span></div><div class="ec-line"><span style="--0:#919F9F;--1:#5D6376">// MyName c = &#x26;d;       // Error, double does not implement MyName.</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">MyName c </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> (MyName)</span><span style="--0:#C792EA;--1:#8844AE">&#x26;</span><span style="--0:#D6DEEB;--1:#403F53">d;</span><span style="--0:#919F9F;--1:#5D6376">  // Would break at runtime as double doesn't implement MyName</span></div><div class="ec-line"><span style="--0:#919F9F;--1:#5D6376">// MyName z = &#x26;i;       // Error, implicit conversion because int doesn't explicitly implement it.</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">MyName</span><span style="--0:#C792EA;--1:#8844AE">*</span><span style="--0:#D6DEEB;--1:#403F53"> z </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> (MyName)</span><span style="--0:#C792EA;--1:#8844AE">&#x26;</span><span style="--0:#D6DEEB;--1:#403F53">i;</span><span style="--0:#919F9F;--1:#5D6376"> // Explicit conversion works and is safe at runtime if int implements "myname"</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="Bob b = { 1 };double d = 0.5;int i = 3;MyName a = &#x26;b;          // Valid, Bob implements MyName.// MyName c = &#x26;d;       // Error, double does not implement MyName.MyName c = (MyName)&#x26;d;  // Would break at runtime as double doesn&#x27;t implement MyName// MyName z = &#x26;i;       // Error, implicit conversion because int doesn&#x27;t explicitly implement it.MyName* z = (MyName)&#x26;i; // Explicit conversion works and is safe at runtime if int implements &#x22;myname&#x22;"><div></div></button></div></figure></div>
<h3 id="calling-dynamic-methods">Calling dynamic methods</h3>
<p>Methods implementing interfaces are like normal methods, and if called directly, they are just normal function calls. The
difference is that they may be invoked through the interface:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">fn </span><span style="--0:#C792EA;--1:#8844AE">void</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">whoareyou</span><span style="--0:#D6DEEB;--1:#403F53">(MyName a)</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">{</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    io::</span><span style="--0:#82AAFF;--1:#3B61B0">printn</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C5E478;--1:#3B61B0">a</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3B61B0">myname</span><span style="--0:#D6DEEB;--1:#403F53">());</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="fn void whoareyou(MyName a){    io::printn(a.myname());}"><div></div></button></div></figure></div>
<p>If we have an optional method we should first check that it is implemented:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">fn </span><span style="--0:#C792EA;--1:#8844AE">void</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">do_something</span><span style="--0:#D6DEEB;--1:#403F53">(VeryOptional z)</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">{</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C792EA;--1:#8844AE">if</span><span style="--0:#D6DEEB;--1:#403F53"> (</span><span style="--0:#C792EA;--1:#8844AE">&#x26;</span><span style="--0:#C5E478;--1:#3B61B0">z</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#7FDBCA;--1:#096E72">do_something</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    {</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#C5E478;--1:#3B61B0">z</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3B61B0">do_something</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#F78C6C;--1:#AA0982">1</span><span style="--0:#D6DEEB;--1:#403F53">, null);</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    }</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="fn void do_something(VeryOptional z){    if (&#x26;z.do_something)    {        z.do_something(1, null);    }}"><div></div></button></div></figure></div>
<p>We first query if the method exists on the value. If it does we actually run it.</p>
<p>Here is another example, showing how the correct function will be called depending on type, checking
for methods on an <code dir="auto">any</code>:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">fn </span><span style="--0:#C792EA;--1:#8844AE">void</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">whoareyou2</span><span style="--0:#D6DEEB;--1:#403F53">(any a)</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">{</span></div><div class="ec-line"><span style="--0:#919F9F;--1:#5D6376">    // Query if the function exists</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C792EA;--1:#8844AE">if</span><span style="--0:#D6DEEB;--1:#403F53"> (</span><span style="--0:#C792EA;--1:#8844AE">!&#x26;</span><span style="--0:#C5E478;--1:#3B61B0">a</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#7FDBCA;--1:#096E72">myname</span><span style="--0:#D6DEEB;--1:#403F53">)</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    {</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        io::</span><span style="--0:#82AAFF;--1:#3B61B0">printn</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">I don't know who I am.</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">);</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">        </span><span style="--0:#C792EA;--1:#8844AE">return</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    }</span></div><div class="ec-line"><span style="--0:#919F9F;--1:#5D6376">    // Dynamically call the function</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    io::</span><span style="--0:#82AAFF;--1:#3B61B0">printn</span><span style="--0:#D6DEEB;--1:#403F53">(((MyName)a).</span><span style="--0:#82AAFF;--1:#3B61B0">myname</span><span style="--0:#D6DEEB;--1:#403F53">());</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">}</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">fn </span><span style="--0:#C792EA;--1:#8844AE">void</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">main</span><span style="--0:#D6DEEB;--1:#403F53">()</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">{</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C792EA;--1:#8844AE">int</span><span style="--0:#D6DEEB;--1:#403F53"> i;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C792EA;--1:#8844AE">double</span><span style="--0:#D6DEEB;--1:#403F53"> d;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    Bob bob;</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    any a </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">&#x26;</span><span style="--0:#D6DEEB;--1:#403F53">i;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#82AAFF;--1:#3B61B0">whoareyou2</span><span style="--0:#D6DEEB;--1:#403F53">(a);</span><span style="--0:#919F9F;--1:#5D6376"> // Prints "I am int!"</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    a </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">&#x26;</span><span style="--0:#D6DEEB;--1:#403F53">d;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#82AAFF;--1:#3B61B0">whoareyou2</span><span style="--0:#D6DEEB;--1:#403F53">(a);</span><span style="--0:#919F9F;--1:#5D6376"> // Prints "I don't know who I am."</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    a </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">&#x26;</span><span style="--0:#D6DEEB;--1:#403F53">bob;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#82AAFF;--1:#3B61B0">whoareyou2</span><span style="--0:#D6DEEB;--1:#403F53">(a);</span><span style="--0:#919F9F;--1:#5D6376"> // Prints "I am Bob!"</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="fn void whoareyou2(any a){    // Query if the function exists    if (!&#x26;a.myname)    {        io::printn(&#x22;I don&#x27;t know who I am.&#x22;);        return;    }    // Dynamically call the function    io::printn(((MyName)a).myname());}fn void main(){    int i;    double d;    Bob bob;    any a = &#x26;i;    whoareyou2(a); // Prints &#x22;I am int!&#x22;    a = &#x26;d;    whoareyou2(a); // Prints &#x22;I don&#x27;t know who I am.&#x22;    a = &#x26;bob;    whoareyou2(a); // Prints &#x22;I am Bob!&#x22;}"><div></div></button></div></figure></div>
<h3 id="reflection-invocation">Reflection invocation</h3>
<p><em>This functionality is not yet implemented and may see syntax changes</em></p>
<p>It is possible to retrieve any <code dir="auto">@dynamic</code> function by name and invoke it:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre tabindex="0"><code><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">def VoidMethodFn </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> fn </span><span style="--0:#C792EA;--1:#8844AE">void</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C792EA;--1:#8844AE">void*</span><span style="--0:#D6DEEB;--1:#403F53">);</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">fn </span><span style="--0:#C792EA;--1:#8844AE">void*</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">int</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3B61B0">test_something</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#C792EA;--1:#8844AE">&#x26;</span><span style="--0:#D6DEEB;--1:#403F53">self) @dynamic</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">{</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    io::</span><span style="--0:#82AAFF;--1:#3B61B0">printfn</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">Testing: </span><span style="--0:#82AAFF;--1:#3B61B0">%d</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">, </span><span style="--0:#C792EA;--1:#8844AE">*</span><span style="--0:#D6DEEB;--1:#403F53">self);</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">}</span></div><div class="ec-line">
</div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">fn </span><span style="--0:#C792EA;--1:#8844AE">void</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">main</span><span style="--0:#D6DEEB;--1:#403F53">()</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">{</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#C792EA;--1:#8844AE">int</span><span style="--0:#D6DEEB;--1:#403F53"> z </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">321</span><span style="--0:#D6DEEB;--1:#403F53">;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    any a </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C792EA;--1:#8844AE">&#x26;</span><span style="--0:#D6DEEB;--1:#403F53">z;</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    VoidMethodFn test_func </span><span style="--0:#C792EA;--1:#8844AE">=</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#C5E478;--1:#3B61B0">a</span><span style="--0:#D6DEEB;--1:#403F53">.</span><span style="--0:#82AAFF;--1:#3B61B0">reflect</span><span style="--0:#D6DEEB;--1:#403F53">(</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">test_something</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53">);</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">    </span><span style="--0:#82AAFF;--1:#3B61B0">test_func</span><span style="--0:#D6DEEB;--1:#403F53">(a);</span><span style="--0:#919F9F;--1:#5D6376"> // Will print "Testing: 321"</span></div><div class="ec-line"><span style="--0:#D6DEEB;--1:#403F53">}</span></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="def VoidMethodFn = fn void(void*);fn void* int.test_something(&#x26;self) @dynamic{    io::printfn(&#x22;Testing: %d&#x22;, *self);}fn void main(){    int z = 321;    any a = &#x26;z;    VoidMethodFn test_func = a.reflect(&#x22;test_something&#x22;);    test_func(a); // Will print &#x22;Testing: 321&#x22;}"><div></div></button></div></figure></div>
<p>This feature allows methods to be linked up at runtime.</p> </div> <footer class="astro-3yyafb3n"> <div class="meta sl-flex astro-3yyafb3n">   </div> <div class="pagination-links astro-u2l5gyhi" dir="ltr"> <a href="/language-common/cinterop/" rel="prev" class="astro-u2l5gyhi"> <svg aria-hidden="true" class="astro-u2l5gyhi astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.5rem;"><path d="M17 11H9.41l3.3-3.29a1.004 1.004 0 1 0-1.42-1.42l-5 5a1 1 0 0 0-.21.33 1 1 0 0 0 0 .76 1 1 0 0 0 .21.33l5 5a1.002 1.002 0 0 0 1.639-.325 1 1 0 0 0-.219-1.095L9.41 13H17a1 1 0 0 0 0-2Z"/></svg>  <span class="astro-u2l5gyhi"> Previous <br class="astro-u2l5gyhi"> <span class="link-title astro-u2l5gyhi">C Interoperability</span> </span> </a> <a href="/generic-programming/operator-overloading/" rel="next" class="astro-u2l5gyhi"> <svg aria-hidden="true" class="astro-u2l5gyhi astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.5rem;"><path d="M17.92 11.62a1.001 1.001 0 0 0-.21-.33l-5-5a1.003 1.003 0 1 0-1.42 1.42l3.3 3.29H7a1 1 0 0 0 0 2h7.59l-3.3 3.29a1.002 1.002 0 0 0 .325 1.639 1 1 0 0 0 1.095-.219l5-5a1 1 0 0 0 .21-.33 1 1 0 0 0 0-.76Z"/></svg>  <span class="astro-u2l5gyhi"> Next <br class="astro-u2l5gyhi"> <span class="link-title astro-u2l5gyhi">Operator Overloading</span> </span> </a> </div>  </footer>  </div> </div>   </main> </div> </div>  </div> </div>  </body></html>